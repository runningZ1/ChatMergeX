# ChatMergeX é¡¹ç›®ä¸Šä¸‹æ–‡

## ğŸš€ é¡¹ç›®åŸºç¡€ä¿¡æ¯
- **é¡¹ç›®åç§°**: ChatMergeX
- **GitHubä»“åº“**: https://github.com/runningZ1/ChatMergeX
- **æœ¬åœ°è·¯å¾„**: D:\Programs\ChatMergeX
- **å¼€å‘æœåŠ¡å™¨**: http://localhost:3000 (å½“å‰æ­£åœ¨è¿è¡Œ)
- **TaskMaster**: å·²é…ç½®å¹¶æ­£åœ¨ä½¿ç”¨ï¼Œä½äº `.taskmaster/` ç›®å½•

## âœ… å·²å®Œæˆçš„ä¸»è¦åŠŸèƒ½

### ä»»åŠ¡1: é¡¹ç›®åŸºç¡€æ­å»º âœ…
- React 18 + TypeScript + Vite é¡¹ç›®åˆå§‹åŒ–
- shadcn/ui ç»„ä»¶åº“é›†æˆ
- Tailwind CSS é…ç½®
- åŸºç¡€è·¯ç”±å’Œé¡µé¢ç»“æ„
- å¼€å‘å·¥å…·é“¾é…ç½® (ESLint, Prettier)

### ä»»åŠ¡2: IndexedDBæ•°æ®å±‚ âœ…
- Dexie.js æ•°æ®åº“å°è£…
- æ•°æ®æ¨¡å‹å®šä¹‰
- åŸºç¡€CRUDæ“ä½œ
- æ•°æ®åº“è¿æ¥å’Œé”™è¯¯å¤„ç†
- è¿ç§»å’Œç‰ˆæœ¬ç®¡ç†

### ä»»åŠ¡3: æ ¸å¿ƒUIå¸ƒå±€ä¸‰åˆ—è®¾è®¡ âœ… (åˆšåˆšå®Œæˆ)
- å®Œæ•´çš„ä¸‰åˆ—å“åº”å¼å¸ƒå±€ç³»ç»Ÿ
- æ‰€æœ‰æ ¸å¿ƒUIç»„ä»¶å®ç°
- å…¨å±€çŠ¶æ€ç®¡ç†

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **React**: 18.x (å‡½æ•°ç»„ä»¶ + Hooks)
- **TypeScript**: å®Œæ•´ç±»å‹æ”¯æŒ
- **Vite**: å¿«é€Ÿå¼€å‘æ„å»ºå·¥å…·

### UIå’Œæ ·å¼
- **shadcn/ui**: ç°ä»£UIç»„ä»¶åº“
- **Tailwind CSS**: åŸå­åŒ–CSSæ¡†æ¶
- **Lucide React**: å›¾æ ‡åº“

### çŠ¶æ€ç®¡ç†
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Context API**: å…¨å±€çŠ¶æ€å…±äº«
- **æœ¬åœ°å­˜å‚¨**: localStorageæŒä¹…åŒ–

### æ•°æ®å­˜å‚¨
- **Dexie.js**: IndexedDBå°è£…åº“
- **IndexedDB**: æµè§ˆå™¨æœ¬åœ°æ•°æ®åº“

## ğŸ“± å·²å®ç°çš„UIåŠŸèƒ½

### å“åº”å¼ä¸‰åˆ—å¸ƒå±€ç³»ç»Ÿ
- **ç§»åŠ¨ç«¯** (< 768px): å•åˆ—å¸ƒå±€ï¼Œå³ä¾§é¢æ¿è¦†ç›–æ˜¾ç¤º
- **å¹³æ¿ç«¯** (768px - 1024px): ä¸¤åˆ—å¸ƒå±€ï¼Œå¯é€‰å³ä¾§é¢æ¿
- **æ¡Œé¢ç«¯** (> 1024px): å®Œæ•´ä¸‰åˆ—å¸ƒå±€

### Headerç»„ä»¶ (`src/components/Header.tsx`)
- âœ… é«˜çº§è¿‡æ»¤å™¨ç³»ç»Ÿ (æ—¶é—´èŒƒå›´ã€å¹³å°ã€é™„ä»¶ã€æ”¶è—)
- âœ… å¹³å°é€‰æ‹©å™¨ (ChatGPTã€Doubaoã€å…ƒå®ã€Geminiã€Grok)
- âœ… å®æ—¶åŒæ­¥çŠ¶æ€æŒ‡ç¤ºå™¨
- âœ… æ™ºèƒ½æœç´¢æ¡†
- âœ… ä¸»é¢˜åˆ‡æ¢ (æµ…è‰²/æ·±è‰²/ç³»ç»Ÿ)
- âœ… ç§»åŠ¨ç«¯èœå•é€‚é…

### ä¾§è¾¹æ ç»„ä»¶ (`src/components/Sidebar.tsx`)
- âœ… å¯æŠ˜å /å±•å¼€åŠŸèƒ½
- âœ… å“åº”å¼è‡ªåŠ¨æŠ˜å  (ç§»åŠ¨ç«¯)
- âœ… çŠ¶æ€æŒä¹…åŒ– (localStorage)
- âœ… æ–‡ä»¶å¤¹æ ‘å½¢å¯¼èˆª
- âœ… æ–‡ä»¶å¤¹æ“ä½œ (åˆ›å»ºã€é‡å‘½åã€åˆ é™¤)
- âœ… å·¥å…·æç¤ºç³»ç»Ÿ

### å¯¹è¯åˆ—è¡¨ç»„ä»¶ (`src/components/conversation-list.tsx`)
- âœ… é«˜æ€§èƒ½è¡¨æ ¼è§†å›¾
- âœ… æ‰¹é‡é€‰æ‹© (Ctrl+A, Shift+Click)
- âœ… å¤šåˆ—æ’åº (æ—¶é—´ã€æ ‡é¢˜ã€å¹³å°ã€æ¶ˆæ¯æ•°)
- âœ… å®æ—¶è¿‡æ»¤åŠŸèƒ½
- âœ… è™šæ‹Ÿæ»šåŠ¨ (æ”¯æŒå¤§é‡æ•°æ®)
- âœ… æ“ä½œèœå• (ç¼–è¾‘ã€å¯¼å‡ºã€åˆ é™¤ã€æ‰“å¼€)
- âœ… å“åº”å¼åˆ—æ˜¾ç¤º

### å³é¢æ¿ç»„ä»¶ (`src/components/RightPanel.tsx`)
- âœ… å¯¹è¯è¯¦æƒ…é¢„è§ˆ
- âœ… å“åº”å¼æ˜¾ç¤º (ç§»åŠ¨ç«¯è¦†ç›–/æ¡Œé¢å›ºå®š)
- âœ… å…¨å±æŸ¥çœ‹æ¨¡å¼
- âœ… åŠ è½½å’Œé”™è¯¯çŠ¶æ€å¤„ç†
- âœ… æ“ä½œæŒ‰é’® (ç¼–è¾‘ã€å¯¼å‡ºã€åˆ é™¤ã€åœ¨å¹³å°æ‰“å¼€)
- âœ… é”®ç›˜å¿«æ·é”®æ”¯æŒ (Ctrl+Påˆ‡æ¢, ESCé€€å‡º)

### çŠ¶æ€ç®¡ç† (`src/contexts/conversation-context.tsx`)
- âœ… å…¨å±€å¯¹è¯çŠ¶æ€ç®¡ç†
- âœ… é€‰ä¸­çš„å¯¹è¯IDç®¡ç†
- âœ… å³é¢æ¿å¼€å…³çŠ¶æ€
- âœ… å¯¹è¯æ“ä½œå¤„ç†

## ğŸ› ï¸ å·²åˆ›å»ºçš„UIç»„ä»¶åº“

### åŸºç¡€ç»„ä»¶ (`src/components/ui/`)
- âœ… `button.tsx` - æŒ‰é’®ç»„ä»¶
- âœ… `input.tsx` - è¾“å…¥æ¡†ç»„ä»¶
- âœ… `dropdown-menu.tsx` - ä¸‹æ‹‰èœå•
- âœ… `checkbox.tsx` - å¤é€‰æ¡†ç»„ä»¶
- âœ… `badge.tsx` - å¾½ç« ç»„ä»¶
- âœ… `toaster.tsx` - é€šçŸ¥ç»„ä»¶

### ä¸šåŠ¡ç»„ä»¶
- âœ… `conversation-list.tsx` - å¯¹è¯åˆ—è¡¨
- âœ… `filter-dropdown.tsx` - è¿‡æ»¤å™¨ä¸‹æ‹‰
- âœ… `platform-selector.tsx` - å¹³å°é€‰æ‹©å™¨
- âœ… `sync-status.tsx` - åŒæ­¥çŠ¶æ€æŒ‡ç¤ºå™¨

## ğŸ—‚ï¸ TaskMaster ä»»åŠ¡çŠ¶æ€

### å·²å®Œæˆ âœ…
- **ä»»åŠ¡1**: é¡¹ç›®åŸºç¡€æ­å»º
- **ä»»åŠ¡2**: IndexedDBæ•°æ®å±‚
- **ä»»åŠ¡3**: æ ¸å¿ƒUIå¸ƒå±€ä¸‰åˆ—è®¾è®¡

### ä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œ ğŸ“‹
- **ä»»åŠ¡8**: Develop browser extension foundation (Manifest V3)
  - åˆ›å»ºChromeæ‰©å±•ç»“æ„
  - å®ç°content scriptsã€background service workerã€popup UI
  - å¹³å°æ£€æµ‹ï¼ˆChatGPTã€Doubaoç­‰ï¼‰
  - æ‰©å±•ä¸Webåº”ç”¨çš„é€šä¿¡API

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
ChatMergeX/
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ project-context.md (æœ¬æ–‡ä»¶)
â”œâ”€â”€ .taskmaster/
â”‚   â”œâ”€â”€ tasks/tasks.json (ä»»åŠ¡é…ç½®)
â”‚   â””â”€â”€ CLAUDE.md (TaskMasteré›†æˆæŒ‡å—)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/ (UIç»„ä»¶)
â”‚   â”‚   â”œâ”€â”€ ui/ (åŸºç¡€UIç»„ä»¶åº“)
â”‚   â”‚   â”œâ”€â”€ Header.tsx (å¤´éƒ¨ç»„ä»¶)
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx (ä¾§è¾¹æ )
â”‚   â”‚   â”œâ”€â”€ RightPanel.tsx (å³ä¾§é¢æ¿)
â”‚   â”‚   â”œâ”€â”€ conversation-list.tsx (å¯¹è¯åˆ—è¡¨)
â”‚   â”‚   â”œâ”€â”€ filter-dropdown.tsx (è¿‡æ»¤å™¨)
â”‚   â”‚   â”œâ”€â”€ platform-selector.tsx (å¹³å°é€‰æ‹©å™¨)
â”‚   â”‚   â””â”€â”€ sync-status.tsx (åŒæ­¥çŠ¶æ€)
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ conversation-context.tsx (å¯¹è¯çŠ¶æ€ç®¡ç†)
â”‚   â”œâ”€â”€ pages/ (é¡µé¢ç»„ä»¶)
â”‚   â”‚   â”œâ”€â”€ home-page.tsx (ä¸»é¡µ)
â”‚   â”‚   â”œâ”€â”€ conversation-page.tsx (å¯¹è¯è¯¦æƒ…é¡µ)
â”‚   â”‚   â””â”€â”€ settings-page.tsx (è®¾ç½®é¡µ)
â”‚   â””â”€â”€ hooks/ (è‡ªå®šä¹‰Hooks)
â”‚       â””â”€â”€ use-database-init.tsx (æ•°æ®åº“åˆå§‹åŒ–)
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ README.md
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
cd "D:\Programs\ChatMergeX"
npm run dev
```

### å¯ç”¨çš„è„šæœ¬
- `npm run dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `npm run build` - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
- `npm run preview` - é¢„è§ˆæ„å»ºç»“æœ
- `npm run lint` - ä»£ç æ£€æŸ¥
- `npm run lint:fix` - è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
- `npm run format` - ä»£ç æ ¼å¼åŒ–

### TaskMaster MCPå‘½ä»¤
- `mcp__taskmaster-ai__get_tasks` - è·å–æ‰€æœ‰ä»»åŠ¡
- `mcp__taskmaster-ai__next_task` - è·å–ä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œä»»åŠ¡
- `mcp__taskmaster-ai__set_task_status` - è®¾ç½®ä»»åŠ¡çŠ¶æ€
- `mcp__taskmaster-ai__expand_task` - å±•å¼€ä»»åŠ¡ä¸ºå­ä»»åŠ¡

## ğŸš€ æ¨èçš„ä¸‹ä¸€ä¸ªè¡ŒåŠ¨

1. **æ£€æŸ¥TaskMaster**: ä½¿ç”¨`get_tasks`æŸ¥çœ‹ä»»åŠ¡8çš„è¯¦ç»†è¦æ±‚
2. **å‡†å¤‡æ‰©å±•å¼€å‘**: äº†è§£Manifest V3è§„èŒƒå’ŒChromeæ‰©å±•API
3. **åˆ›å»ºæ‰©å±•ç»“æ„**: å¼€å§‹åˆ›å»º`public/manifest.json`å’Œç›¸å…³æ–‡ä»¶
4. **å®ç°åŸºç¡€åŠŸèƒ½**: content scriptsã€background service worker
5. **å»ºç«‹é€šä¿¡**: æ‰©å±•ä¸Webåº”ç”¨çš„é€šä¿¡æ¡¥æ¢

## ğŸ’¡ é‡è¦æ³¨æ„äº‹é¡¹

- âœ… ä¿æŒå¼€å‘æœåŠ¡å™¨è¿è¡Œ (`npm run dev`)
- âœ… ä½¿ç”¨TaskMasterè·Ÿè¸ªä»»åŠ¡è¿›åº¦
- âœ… éµå¾ªå·²å»ºç«‹çš„ç»„ä»¶å’ŒçŠ¶æ€ç®¡ç†æ¨¡å¼
- âœ… æ³¨æ„å“åº”å¼è®¾è®¡å’Œç§»åŠ¨ç«¯é€‚é…
- âœ… ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ä¼˜åŒ–

---

*æ­¤æ–‡æ¡£ç”±Claude Codeè‡ªåŠ¨ç”Ÿæˆï¼Œè¯·åœ¨é¡¹ç›®æœ‰é‡å¤§å˜æ›´æ—¶åŠæ—¶æ›´æ–°ã€‚*